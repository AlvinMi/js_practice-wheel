# 10 道网络协议基础测试题 & 解析

1.(多选)下列哪种方式可以给网卡配置 IP 地址?
- A.通过 DHCP 协议
- B.通过 ip addr 命令
- C.通过 PXE
- D.通过 Ubuntu 的 Interface 文件配置

2.(多选)下列哪种方式可以配置 VLAN?
- A.通过交换机可以配置某个口的 VLAN
- B.通过网桥的 tag
- C.通过 cvonfig 命令
- D.通过 VTEP

3.(单选)对于网关和路由器, 下列说法正确的是
- A.网关和路由器是一回事儿
- B.网关是三层的, 路由器可以是三层的, 也可以是二层的
- C.网关是路由器的一个接口
- D.网关可以做 NAT, 路由器不能

4.(多选)对于路由器协议, 下列描述正确的有
- A.路由器协议主要是用来寻找最短路径
- B.最短路径往往只有一条
- C.数据中心内部和外部往往使用不同的路由协议
- D.边界路由器只把部分 IP 告知外面的网络

5.(单选)对于传输层协议, 下列描述正确的是
- A.传输层只有两种协议: TCP 和 UDP
- B.由于 UDP 过于简单, 因而在数据中心内部使用
- C.TCP 通过 Sequence Number 标识重传和回复的包
- D.TCP 通过滑动窗口解决网络路拥塞的问题

6.(多选)对于 HTTP 协议, 下列描述正确的有
- A.HTTP 协议是基于 TCP 协议的
- B.TCP 的重传机制会导致 HTTP 服务端收到重复的包, 因而需要实现幂等
- C.HTTP 的 POST 方法可以用来发送数据, 也可以用来请求数据
- D.HTTP 协议主要用来传输 HTML 网页

7.(多选)对于 Socket, 下列描述正确的有
- A.Socket 可以建立 TCP 连接, 也可以建立 UDP 连接, 所以它在传输层工作
- B.对于 Linux 内核来看, Socket 也是一个文件
- C.启动一个 Socket 来监听, 当连接建立之后, 会将这个 socket 交给一个线程来处理
- D.UDP 的 Socket 可以接受来自多个源的网络包

8.(单选)对于 DNS 协议, 下列秒速正确的是
- A.如果没有 DNS, 服务器之间无法通信
- B.客户端需要去论询 DNS 树进行域名解析
- C.DNS 既可以做本地负载均衡, 也可以做全局负载均衡
- D.只要修改了 DNS 域名对应的 IP 地址, 马上就起作用

9.(多选)对于 CDN, 下列描述正确的有
- A.使用了 CDN 之后, 访问的域名会发生变化
- B.CDN 只能用来加速静态数据
- C.CDN 厂商的节点分布在各个地区的各个运营商
- D.相同运营商比相同地点有更高优先级

10.(单选)对于移动通信网络, 下列描述正确的是
- A.移动通信网络也是在运营商, 因而一旦到了有线部分, 就都一样了
- B.之所以分 SGW 和 PGW, 主要是解决异地上网的问题
- C.手机的 IP 地址是公网 IP 地址, 是由互联网上的 DHCP 服务器分配的
- D.手机上网不稳定, 因而所有的协议都需要基于 TCP, 不然一旦丢包就麻烦了

## 答案与解析
1.(多选) 答案: ABD
解析: 配置的采纳数如果是 DHCP, 会通过 DHCP 协议自动配置 IP 地址; 如果是 Static 会通过 ip addr 命令进行手动配置。而 PXE 不是用于配置 IP 地址的, 是用于物理初始化的。

2.(多选) 答案: ABC
解析: 物理交换机可以配置 VLAN, brctl 里面的 tag 可以配置 VLAN, vconfig 可以配置一个带 VLAN ID 的虚拟网卡。 VTEP 是用来封装 VXLAN 的

3.(单选) 答案: C
解析: 网关和路由器都是三层的, 都可以做 NAT, 网关往往是路由器在某个局域网里面的口

4.(多选) 答案: CD
解析: 数据中心内部和外部使用的路由协议不太一样。 内部的协议主要是用来寻找最短路径, 外部的协议往往会有一些策略, 可以选择将部分的 IP 地址广播出去。

5.(单选) 答案: C
解析: 传输层常用的两种协议是 TCP 和 UDP, 其实还有其他的, 例如 SCTP。UDP 比较简单, 常用于内网, 但是它可以让应用层自己实现可靠连接和拥塞控制, 因此也常在数据中心外使用。 TCP 通过 Sequence Number 和滑动窗口, 解决重传和回复的问题, 而拥塞窗口解决的是网络拥塞问题。

6.(多选) 答案: AC
解析: HTTP 是基于 TCP 的。 TCP 虽然会重传, 但是只有一个包可以到达 HTTP 层, 所以 HTTP 层不会收到重复的包。为了防止重新发送 HTTP 的请求, 需要实现幂等。POST 仅仅是一个方法实现可以很灵活。 SOAP 协议中常用 POST 实现调用 get 函数。 HTTP 不仅仅是传输 HTML 的, 可以传输很多东西, 比如视频、JSON、XML等。

7.(多选) 答案: BD
解析: Socket 可以建立 TCP 和 UDP 连接, 但是它处于应用层。 Socket 连接后会生成一个文件描述符, 所以从内核来看, 它只是一个文件。 监听的 Socket 和读写的 Socket 并不是同一个。 UDP 的 Socket 不是面向连接的, 它可以接收来自多个源的网络包。

8.(单选) 答案: C
解析: 没有 DNS, 上网就会很不方便, 但是使用 IP 地址, 仍然可以互相通信。轮询 DNS 树的不是客户端, 而是本地 DNS 服务器。 DNS 可以在数据中心里面做本地均衡负载, 也可以做跨数据中心的全局负载聚衡。修改 DNS 域名对应的 IP 之后, 过一段时间才会起作用。

9.(多选) 答案: ACD
解析: 使用了 CDN 之后, 域名会 CNAME 成为 CDN 的域名。 CDN 可以加速静态数据, 也可以加速动态数据。 CDN 节点分布在各个地区和运营商。 相同的运营商路径更短一些。 有时候想听的地区, 不同的运营商不能直接连接, 而是要到两个运营商互通的地方转一下, 所以相同运营商更加重要一些。 而对于同一个运营商, 地区比较重要。

10.(单选) 答案: B
解析: 移动通信网络有无限的部分、核心网的部分、互联网的部分, 不是到了有线就都是一样了。 区分 SGW 和 PGW 可以解决异地上网的问题, SGW 是服务本地 PGW 的登记地结算的。 手机的 IP 地址是 PGW 分配的。 手机里面的 GTP 协议是基于 UDP 的。